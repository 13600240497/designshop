"use strict";!GESHOP_SITECODE||"zf-pc"!=GESHOP_SITECODE&&"zf-wap"!=GESHOP_SITECODE?GESHOP_SITECODE&&"rg-wap"==GESHOP_SITECODE?(window.tag="ra-54c2151b31fb2710",window.geshop_share_appid=$('[property="fb:app_id"]').attr("content")?$('[property="fb:app_id"]').attr("content"):"860992623979486"):GESHOP_SITECODE&&"rg-pc"==GESHOP_SITECODE&&(window.tag="ra-54c2151b31fb2710",window.geshop_share_appid=$('[property="fb:app_id"]').attr("content")?$('[property="fb:app_id"]').attr("content"):"860992623979486"):(window.geshop_share_appid=$('[property="fb:app_id"]').attr("content")?$('[property="fb:app_id"]').attr("content"):"1396335280417835",window.tag="ra-5a38671bb83b79fe"),window.share={facebook:{init:function(e){var t,n,i,o,a;$("body").append('<div id="fb-root"></div>'),window.fbAsyncInit=function(){FB.init({appId:window.geshop_share_appid,status:!0,cookie:!0,oauth:!0,xfbml:!0,version:"v3.2"})},t=document,n="script",i="facebook-jssdk",o=void 0,a=t.getElementsByTagName(n)[0],t.getElementById(i)||((o=t.createElement(n)).id=i,o.src="https://connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a)),"function"==typeof e&&e()},start:function(e,t){e=e||{},FB.ui({method:"feed",display:"popup",name:e.name,picture:e.picture,link:e.link,caption:e.caption,description:e.description},function(e){e&&!e.error_code&&"function"==typeof t&&t()})}},twitter:{init:function(e){$("body").append('<div id="twitter-root"></div>'),window.twttr=function(e,t,n){var i=void 0,o=void 0,a=e.getElementsByTagName(t)[0];if(!e.getElementById(n))return(o=e.createElement(t)).id=n,o.src="https://platform.twitter.com/widgets.js",a.parentNode.insertBefore(o,a),window.twttr||(i={_e:[],ready:function(e){i._e.push(e)}})}(document,"script","twitter-wjs"),"function"==typeof e&&e()},start:function(e,t){e=e||{};var n=(window.screen.availHeight-30-430)/2,i=(window.screen.availWidth-10-650)/2,o="https://twitter.com/intent/tweet?text="+encodeURIComponent(e.text)+"&url="+encodeURIComponent(e.link);window.open(o,"","width=650,height=430,top="+n+",left="+i),"function"==typeof t&&t()}},google:{init:function(e){var t,n;t=document.createElement("script"),n=document.getElementsByTagName("script")[0],t.type="text/javascript",t.src="https://apis.google.com/js/platform.js",t.async=!0,n.parentNode.insertBefore(t,n),"function"==typeof e&&e()},start:function(e,t){e=e||{};var n=(window.screen.availHeight-30-550)/2,i=(window.screen.availWidth-10-510)/2,o="https://plus.google.com/share?url="+encodeURIComponent(e.link)+"&t="+encodeURIComponent(e.text);window.open(o,"","width=510,height=550,top="+n+",left="+i),"function"==typeof t&&t()}},pinterest:{start:function(e,t){e=e||{};var n=(window.screen.availHeight-30-650)/2,i=(window.screen.availWidth-10-800)/2,o="https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(e.link)+"&media="+encodeURIComponent(e.image)+"&description="+encodeURIComponent(e.text);window.open(o,"","width=800,height=650,top="+n+",left="+i),"function"==typeof t&&t()}},line:{start:function(e,t){e=e||{};var n=(window.screen.availHeight-30-650)/2,i=(window.screen.availWidth-10-800)/2,o="https://social-plugins.line.me/lineit/share?url="+encodeURIComponent(e.link)+"&description="+encodeURIComponent(e.text);window.open(o,"","width=800,height=650,top="+n+",left="+i),"function"==typeof t&&t()}}},window.share.facebook.init();var Geshop_turntable_helper=function(c,e){return this.bind_trigger=function(n){var i=this;Object.keys(n).map(function(e){var t=n[e];i.helper.jQueryNodeList[e]=$(t)})},this.helper={is_debug_mode:window.location.search.includes("is_debug"),site_code:"undefined"!=typeof GESHOP_SITECODE?GESHOP_SITECODE.split("-")[0]:"",site_code_upper:("undefined"!=typeof GESHOP_SITECODE?GESHOP_SITECODE.split("-")[0]:"").toUpperCase(),pipeline_code:"undefined"!=typeof GESHOP_PIPELINE?GESHOP_PIPELINE:"en"===GESHOP_LANG?GESHOP_SITECODE.split("-")[0].toUpperCase():(GESHOP_SITECODE.split("-")[0]+GESHOP_LANG).toUpperCase(),lang:("undefined"!=typeof GESHOP_LANG?GESHOP_LANG:"").toUpperCase(),spins:3,canShare:!0,countdown_status:0,languages:{},asyncData:{},left_second:0,doLotteryData:{},loginUrl:{zf:("undefined"!=typeof HTTPS_LOGIN_DOMAIN?HTTPS_LOGIN_DOMAIN:"")+"/"+("undefined"!=typeof JS_LANG_CODE?JS_LANG_CODE:"")+"sign-up.html?ref=",rg:("undefined"!=typeof DOMAIN_LOGIN?DOMAIN_LOGIN:"")+"/m-users-a-sign.html?ref="},show_points_info:!1,use_point:0,jQueryNodeList:{dialog_share:null,spins:null,left_points:null},init_languages:function(){var t=GESHOP_LANG||"en";Object.keys(GESHOP_TUNRNTABLE_WAP_LANGUAGES).map(function(e){this.languages[e]=GESHOP_TUNRNTABLE_WAP_LANGUAGES[e][t]||GESHOP_TUNRNTABLE_WAP_LANGUAGES[e].en}.bind(this))},webLoginAction:function(e,t){if("app"!=GESHOP_PLATFORM)window.location.href=e+window.location.href;else{var n=0;switch(n="zf-app"==GESHOP_SITECODE?1:n,n="rg-app"==GESHOP_SITECODE?2:n,n="rw-app"==GESHOP_SITECODE?3:n){case 1:window.location.href="webAction://login?callback=appUserInfo()&isAlert="+t;break;case 2:window.location.href="webAction://checkUserInfo?callback=appUserInfo()&isAlert="+t;break;case 3:window.location.href=e}}},get_cookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?t[2]:null},geshopUserCenterUrlToApp:function(e,t){return GESHOP_PLATFORM||GESHOP_SITECODE?"app"!=GESHOP_PLATFORM?e:{"zf-app":{9:"zaful://action?actiontype=9&source=deepLink",18:"zaful://action?actiontype=18&source=deepLink",6:"zaful://action?actiontype=9&source=deepLink"},"rg-app":{19:"rosegal://action?actiontype=19&name=R Points&source=deeplink",10:"rosegal://action?actiontype=10&name=couponList&source=deeplink"}}[GESHOP_SITECODE][t]:e},appShare:function(e,t){var n={"zf-app":"webAction://sharing?shareUrl="+e.url+"&imageUrl="+e.image+"&callback="+t,"rg-app":"webAction://sharing?shareUrl="+e.url+"&shareContent="+e.desc+"&imageUrl="+e.image+"&callback="+t};if(GESHOP_SITECODE)return n[GESHOP_SITECODE]},set_share_award_status:function(e){sessionStorage.setItem("IS_SHARE_AWARD_STATUS",e)},delete_award_sessionstorage:function(){sessionStorage.removeItem("IS_SHARE_AWARD_STATUS")},show_loading_style:function(){$(c).find(".js_gs-dialog-U000188-container").show()},set_dolottery_btn_enable:function(){$(c).find(".js-start-draw").attr("data-isdrawing",0)},hide_loading_style:function(){$(c).find(".js_gs-dialog-U000188-container").hide()},auto_hide_loading_style:function(){setTimeout(function(){$(c).find(".js_gs-dialog-U000188-container").is(":visible")&&$(c).find(".js_gs-dialog-U000188-container").hide()},15e3)},init_events:function(){$(c).on("click",".js-start-draw",function(e){if(!$(e.currentTarget).data("loaded"))return!1;if(1==$(e.currentTarget).attr("data-isdrawing"))return!1;switch(this.countdown_status){case 0:this.dialog_show_fail_not_start();break;case 1:$(e.currentTarget).attr("data-isdrawing",1),this.show_loading_style(),this.auto_hide_loading_style(),this.ajax_get_usertoken(function(e){this.ajax_get_spins(function(e,t,n){if(this.hide_loading_style(),0==this.asyncData.is_login)this.webLoginAction(this.loginUrl[this.site_code],1),this.set_dolottery_btn_enable();else if(200==t)1==this.doLotteryData.has_win?(this.ajax_get_bonus(),setTimeout(function(){null!=n&&this.render_points(n),this.init_lottery_info({render_points:!1}),this.set_dolottery_btn_enable()}.bind(this),5e3)):(this.ajax_get_bonus(),setTimeout(function(){null!=n&&this.render_points(n),this.dialog_show_fail(this.languages.unlucky),this.set_dolottery_btn_enable()}.bind(this),5e3));else if(601==t||607==t){if(1==this.use_point)return this.dialog_show_points_tips(),this.set_dolottery_btn_enable(),this.use_point=0,!1;1==sessionStorage.getItem("IS_SHARE_AWARD_STATUS")?(this.dialog_show_share(),this.set_dolottery_btn_enable()):this.dialog_show_fail(this.languages.noChance)}else 403==t?(GEShopSiteCommon.dialog.message("please log in first."),this.webLoginAction(this.loginUrl[this.site_code],1)):606==t?this.dialog_show_fail(this.languages.unlucky):603==t?this.dialog_show_fail(this.languages.ended):602==t||604==t||608==t?this.dialog_show_fail(this.languages.fail):605==t?(GEShopSiteCommon.dialog.message("User information is invalid."),this.set_dolottery_btn_enable()):500==t&&(GEShopSiteCommon.dialog.message("Invalid requestÔºÅ"),this.set_dolottery_btn_enable())}.bind(this),e)}.bind(this),function(e){this.hide_loading_style(),this.set_dolottery_btn_enable()}.bind(this));break;default:this.dialog_show_fail(this.languages.ended)}}.bind(this)),$(c).on("click",".js-show-rule-dialog",function(e){$(c).find(".geshop-188d-dialog-rule").show()}),$(c).on("click",".js-close-dialog",function(e){var t="."+$(e.currentTarget).attr("data-tag");$(c).find(t).hide(),this.animateReset()}.bind(this)),$(c).on("click",".js-check-now",function(e){var t=0,n=0;n=2==this.doLotteryData.prize_type?(t=18,19):(t=1==this.doLotteryData.prize_type?9:6,10);var i=GESHOP_SITECODE?GESHOP_SITECODE.split("-")[0]:"";GESHOP_PLATFORM;if("zf"==i){var o="";1==this.doLotteryData.prize_type||3==this.doLotteryData.prize_type?o=("undefined"!=typeof HTTPS_USER_DOMAIN?HTTPS_USER_DOMAIN:"")+"/"+GESHOP_PIPELINE.toLowerCase()+"/m-users-a-my_coupon.htm":2==this.doLotteryData.prize_type&&(o=("undefined"!=typeof HTTPS_USER_DOMAIN?HTTPS_USER_DOMAIN:"")+"/"+GESHOP_PIPELINE.toLowerCase()+"/m-users-a-points_record.htm"),window.location.href=this.geshopUserCenterUrlToApp(o,t)}else if("rg"==i){o="";1==this.doLotteryData.prize_type||3==this.doLotteryData.prize_type?o=("undefined"!=typeof DOMAIN_USER?DOMAIN_USER:"")+"/m-users-a-coupon.html":2==this.doLotteryData.prize_type&&(o=("undefined"!=typeof DOMAIN_USER?DOMAIN_USER:"")+"/m-users-a-points_record.html"),window.location.href=this.geshopUserCenterUrlToApp(o,n)}}.bind(this)),$(c).on("click",".js-close-dialog-not-start",function(e){var t="."+$(e.currentTarget).attr("data-tag");$(c).find(t).addClass("is-hidden").removeClass("is-visible"),this.animateReset()}.bind(this))},countdown:function(e){function t(e){return e<10&&(e="0"+e),e}var n=parseInt(e/60/60/24,10),i=parseInt(e/60/60%24,10),o=parseInt(e/60%60,10),a=parseInt(e%60,10);return"<i>"+(n=t(n))+"</i>: <i>"+(i=t(i))+"</i>: <i>"+(o=t(o))+"</i>: <i>"+(a=t(a))+"</i>"},init_coutdown:function(){var e=1*this.asyncData.start_timestamp,t=1*this.asyncData.end_timestamp;this.countdown_status=this.check_time(e,t);var n=["is-ready","is-drawing","is-ended"],i=0==this.countdown_status?e:1==this.countdown_status?t:0;clearInterval(o);var o=setInterval(function(){var e=this.get_second(i);this.left_second=e,$(c).find(".geshop-188d-list-warning .time").html(this.countdown(e)),$(c).find(".geshop-188d-dialog-fail-not-start .geshop-188d-dialog-body p.title").html(this.languages.startIn),$(c).find(".geshop-188d-dialog-fail-not-start .geshop-188d-dialog-body p.time").html(this.countdown(e)),e<=0?(clearInterval(o),0==this.countdown_status?this.init_coutdown():1<=this.countdown_status&&($(c).removeClass("is-ready").removeClass("is-ended").addClass("is-drawing"),$(c).find(".geshop-188d-dialog-fail-not-start").removeClass("is-visible").addClass("is-hidden"),this.countdown_status=1)):$(c).addClass(n[this.countdown_status])}.bind(this),1e3)},init_luck_list:function(){this.ajax_get_lucky()},check_time:function(e,t){var n=Date.parse(new Date)/1e3;return n<e?0:e<n&&n<t?1:2},get_second:function(e){return e-Date.parse(new Date)/1e3},ajax_get_spins:function(i,e){var o=this,t=$(c).attr("data-actcode"),n=o.asyncData.share_code,a=GESHOP_INTERFACE.elf_webgame_do_lottery.url,s={act_code:t,user_token:e,share_code:n,website:o.site_code_upper,pipeline_code:o.pipeline_code,language:o.lang};$.ajax({type:"GET",url:a,data:s,dataType:"jsonp",success:function(e){o.is_debug_mode&&alert("ajax_get_spins= "+JSON.stringify(e)),o.doLotteryData=e.data;var t=e.data.left_times&&e.data.left_times;t=e.data.left_times?e.data.left_times:0;if(o.render_spins(t),e.data.hasOwnProperty("user"))var n=e.data.user.points;else n=null;i&&i(t,e.status,n)}})},ajax_get_bonus:function(){var e=this.doLotteryData,t={has_win:e.has_win,type:e.prize_type,points:e.points,goods_sku:e.goods_sku,coupon_json:e.coupon_json,sku_image:e.goods_img,bonusIndex:e.prize_id};this.animation(t)},init_lottery_info:function(e){var t=e.render_points,n=void 0===t||t,i=this,o=$(c).attr("data-actcode"),a=i.get_cookie("user-token")?i.get_cookie("user-token"):"",s=GESHOP_INTERFACE.elf_webgame_info.url,r={act_code:o,user_token:a,website:i.site_code_upper,pipeline_code:i.pipeline_code,language:i.lang};$.ajax({type:"GET",url:s,data:r,dataType:"jsonp",success:function(e){500==e.status&&"undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message("error!"),i.asyncData=e.data,i.set_share_award_status(i.asyncData.is_share_award),i.ajax_get_lucky(e.data.win_list),i.init_coutdown();var t=e.data.left_times?e.data.left_times:0;i.render_spins(t),"ZF"==i.site_code_upper?(i.use_point=e.data.use_point,i.show_points_info=1==parseInt(e.data.use_point),1==n&&i.render_points(e.data.left_points||0)):(i.use_point=0,i.show_points_info=!1),$(c).find(".js-start-draw").attr("data-loaded",1),0==e.data.is_login&&$(c).find(".geshop-188d-spins").hide()}})},init_prize_info:function(e){var t="";switch(e.prize_type){case 1:if(1==e.coupon_json.no_mail)t=this.languages.freeCouponText;else if(1==e.coupon_json.coupon_type)t=1==(n=e.coupon_json.youhuilv.split("-")).length?this.languages.couponTextPercent.replace("XX",n[0]).replace("YY","").replace("ZZ",""):this.languages.couponTextPercent.replace(/XX/g,n[1]).replace(/ZZ/g,n[0]).replace(/YY/g,this.change_sign(e.coupon_json.currency));else if(2==e.coupon_json.coupon_type){var n;t=1==(n=e.coupon_json.youhuilv.split("-")).length?this.languages.couponTextDecrease.replace(/XX/g,this.change_sign(e.coupon_json.currency)+n[0]).replace(/YY/g,"").replace("ZZ",""):this.languages.couponTextDecrease.replace(/XX/g,n[1]).replace(/ZZ/g,n[0]).replace(/YY/g,this.change_sign(e.coupon_json.currency))}break;case 2:t="zf"==this.site_code?this.languages.pointText.replace("XX",e.points).replace("YY","Z"):this.languages.pointText.replace("XX",e.points).replace("YY","R");break;case 3:t=this.languages.skuText}return t},ajax_get_lucky:function(e){this.lucky_list=e;$(c).find(".geshop-188d-list-uname ul").html("");var t=this,n=$(c).attr("data-actcode");e&&e.length?(e.map(function(e){$(c).find(".geshop-188d-list-uname ul").append("<li>"+e.email+"<span>"+t.init_prize_info(e)+"</span></li>")}),this.animateList()):0==n&&([{email:"tomer***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"jacker***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"markere***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"dfdf***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"fvdffg***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"trttyu***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"drfg***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"hgghdf***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"fghf***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""},{email:"rtry***@gmail.com",created_time:"",prize_type:2,points:"100",win_time:""}].map(function(e){$(c).find(".geshop-188d-list-uname ul").append("<li>"+e.email+"<span>"+t.init_prize_info(e)+"</span></li>")}),this.animateList())},animation:function(e){0==e.has_win&&(e.type=9);var t=360/(1*$(c).attr("data-prizeamount")),n=t*e.bonusIndex+2160-t/2;$(c).addClass("geshop-animate-rotate"),$(c).find(".geshop-188d-pointer img").css("transform","rotate("+n+"deg)").css("transition","all 5s ease-in-out"),setTimeout(function(){switch(e.type){case 3:this.dialog_show_sku(e);break;case 9:break;default:this.dialog_show_other(e)}}.bind(this),5e3)},animateReset:function(){$(c).find(".geshop-188d-pointer img").css("transform","").css("transition","none")},animateList:function(){var e=$(c).find(".geshop-188d-list-uname"),t=e.find("ul"),n=0;e.height()<=t.height()&&!function e(){t.animate({top:n-30+"px"},1e3,function(){t.css({top:"0px"}).find("li:first").appendTo(t),e()})}()},dialog_show_fail:function(e){$(c).find(".geshop-188d-dialog-fail").show().find("p.title").html(e),$(c).find(".js-start-draw").attr("data-isdrawing",0)},dialog_show_fail_not_start:function(){$(c).find(".geshop-188d-dialog-fail-not-start").addClass("is-visible").removeClass("is-hidden")},dialog_show_share:function(e){var t=!(0<arguments.length&&void 0!==e)||e,n=this.jQueryNodeList.dialog_share;n.find("p").html(this.languages.lastChange),n.find(".js-share-icons").show(),t?n.show():n.hide()},dialog_show_points_tips:function(){var e=this.languages.points_use_tips;this.dialog_show_fail(e)},dialog_show_sku:function(e){$(c).find(".geshop-188d-dialog-sku").show().find(".geshop-188d-dialog-sku-image img").attr("src",e.sku_image)},change_sign:function(e){return(window.my_array_sign?window.my_array_sign:[])[e||"USD"]},dialog_show_other:function(e){var t=void 0,n="",i=GESHOP_SITECODE.split("-")[0]||"";switch(e.type){case 1:if(1==e.coupon_json.no_mail)t=this.languages.dialogFreeShipping;else if(1==e.coupon_json.coupon_type){var o=e.coupon_json.youhuilv.split("-");"zf"==i?t=1==o.length?this.languages.dialogCouponPercentZF.replace("XX",o[0]).replace("YY","").replace("ZZ",""):"EUR"==e.coupon_json.currency||"RUB"==e.coupon_json.currency?this.languages.dialogCouponPercentZF.replace("XX",o[1]).replace("ZZ",this.change_sign(e.coupon_json.currency)).replace("YY",o[0]):this.languages.dialogCouponPercentZF.replace("XX",o[1]).replace("YY",this.change_sign(e.coupon_json.currency)).replace("ZZ",o[0]):"rg"==i&&(t=1==o.length?this.languages.dialogCouponPercentRG.replace("XX",o[0]).replace("YY","").replace("ZZ",""):"EUR"==e.coupon_json.currency||"RUB"==e.coupon_json.currency?this.languages.dialogCouponPercentRG.replace("XX",o[1]).replace("ZZ",this.change_sign(e.coupon_json.currency)).replace("YY",o[0]):this.languages.dialogCouponPercentRG.replace("XX",o[1]).replace("YY",this.change_sign(e.coupon_json.currency)).replace("ZZ",o[0]))}else if(2==e.coupon_json.coupon_type){o=e.coupon_json.youhuilv.split("-");"zf"==i?t=1==o.length?this.languages.dialogCouponDecreaseZF.replace("XX",o[0]).replace("YY",this.change_sign(e.coupon_json.currency)).replace("YYZZ","").replace("ZZYY",""):"EUR"==e.coupon_json.currency||"RUB"==e.coupon_json.currency?this.languages.dialogCouponDecreaseZF.replace(/XX/g,this.change_sign(e.coupon_json.currency)).replace(/YY/,o[1]).replace(/YY/,o[0]).replace(/ZZ/g,this.change_sign(e.coupon_json.currency)):this.languages.dialogCouponDecreaseZF.replace(/XX/g,o[1]).replace(/ZZ/g,o[0]).replace(/YY/g,this.change_sign(e.coupon_json.currency)):"rg"==i&&(t=1==o.length?this.languages.dialogCouponDecreaseRG.replace("XX",o[0]).replace("YY",this.change_sign(e.coupon_json.currency)).replace("YYZZ","").replace("ZZYY",""):"EUR"==e.coupon_json.currency||"RUB"==e.coupon_json.currency?this.languages.dialogCouponDecreaseRG.replace(/XX/g,o[1]).replace(/YY/g,o[0]).replace(/ZZ/g,this.change_sign(e.coupon_json.currency)):this.languages.dialogCouponDecreaseRG.replace(/XX/g,o[1]).replace(/ZZ/g,o[0]).replace(/YY/g,this.change_sign(e.coupon_json.currency)))}break;case 2:"zf"==i?t=this.languages.dialogPoints.replace(/XXX/g,e.points).replace(/YYY/g,"Z"):"rg"==i&&(t=this.languages.dialogPoints.replace(/XXX/g,e.points).replace(/YYY/g,"R"));break;default:t=""}n="zf"==i?this.languages.dialogSuccessContent1:"rg"==i?this.languages.dialogSuccessContent2:"",$(c).find(".geshop-188d-dialog-other").show().find("p.success-content").html(t+n)},render_spins:function(e){var t=this.languages.spins.replace("XXX",'<span class="site-bold-strict">'+e+"</span>");this.jQueryNodeList.spins.html(t)},render_points:function(e){this.jQueryNodeList.left_points.find("span").html(e),1==this.show_points_info?this.jQueryNodeList.left_points.show():this.jQueryNodeList.left_points.hide()},get_points:function(){if(this.jQueryNodeList.left_points){var e=this.jQueryNodeList.left_points.find("span").html();return parseInt(e)}return 0},init_share:function(){var n={url:$('[property="og:url"]').attr("content")||"",image:$('[property="og:image"]').attr("content")||"",title:$('[property="og:title"]').attr("content")||"",desc:$('[property="og:description"]').attr("content")||""},s=this;function i(e){var t=$(c).attr("data-actcode"),n=s.get_cookie("user-token")?s.get_cookie("user-token"):"",i=e||"facebook",o=GESHOP_INTERFACE.elf_webgame_share_prize.url,a={act_code:t,user_token:n,share_channel:i,website:s.site_code_upper,pipeline_code:s.pipeline_code,language:s.lang};$.ajax({url:o,type:"GET",data:a,dataType:"jsonp",success:function(e){if(200==e.status){sessionStorage.setItem("IS_SHARE_AWARD_STATUS",0);var t=1*$(c).find(".geshop-188d-spins span").text();s.render_spins(1+t),"facebook"==i&&("undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message(s.languages.shareSuccessTips1),s.dialog_show_share(!1))}else 607==e.status?"undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message(s.languages.noChance):"undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message(e.msg)}})}window.appShareFinish=function(n){var e=$(c).attr("data-actcode"),t=s.get_cookie("user-token")?s.get_cookie("user-token"):"",i=(n=n||"facebook",GESHOP_INTERFACE.elf_webgame_share_prize.url),o={act_code:e,user_token:t,share_channel:n,website:s.site_code_upper,pipeline_code:s.pipeline_code,language:s.lang};$.ajax({url:i,type:"GET",data:o,dataType:"jsonp",success:function(e){if(200==e.status){sessionStorage.setItem("IS_SHARE_AWARD_STATUS",0);var t=1*$(c).find(".geshop-188d-spins span").text();s.render_spins(1+t),"facebook"==n&&("undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message(s.languages.shareSuccessTips1),s.dialog_show_share(!1))}else 607==e.status?"undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message(s.languages.noChance):"undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.message(e.msg)},error:function(e){}})},$(c).find(".js_app_share_btn").on("click",function(){var e=$('[property="og:url"]').attr("content")||"",t={url:e=encodeURIComponent(e),image:$('[property="og:image"]').attr("content")||"",title:$('[property="og:title"]').attr("content")||"",desc:$('[property="og:description"]').attr("content")||""};window.location.href=s.appShare(t,"appShareFinish()")}),$(c).find(".js_share_btn").on("click",function(){var e=$(this).attr("data-type");switch(e){case"facebook":var t={name:n.title,picture:n.image,link:n.url,caption:n.title,description:n.desc};share.facebook.start(t,function(){i(e)});break;case"pinterest":t={link:n.url,image:n.image,text:n.desc};share.pinterest.start(t,function(){i(e)});break;case"twitter":t={text:n.desc,link:n.url};share.twitter.start(t,function(){i(e)});break;case"google":t={text:n.desc,link:n.url};share.google.start(t,function(){i(e)});break;default:t={text:n.desc,link:n.url};share.line.start(t,function(){i(e)})}})},ajax_get_usertoken:function(t,n){var i=this,e=GESHOP_INTERFACE.user_info.url;$.ajax({type:"GET",url:e,data:{content:JSON.stringify({lang:GESHOP_LANG,pipeline:GESHOP_SITECODE})},dataType:"jsonp",success:function(e){console.log(i),i.is_debug_mode&&alert("ajax_get_usertoken= "+JSON.stringify(e)),0===e.code&&""!=e.data.elf_user_token?t&&t(e.data.elf_user_token):(n&&n(),i.webLoginAction(i.loginUrl[i.site_code],1),i.set_dolottery_btn_enable())},error:function(){var e=i.get_cookie("user-token")||"";t&&t(e)}})}},this.helper.init_languages(),this.bind_trigger(e.elements),this.helper};