"use strict";!function(){var e,t,i=!1,h=$("#nav-m-ul"),s=0;if(1<window.location.hash.split("#").length){s=1;var n=window.location.hash.split("#")[1].split("=")[1],a=$(".geshop-component-box[data-id="+n+"]"),r=0;0<a.length&&(r=a.offset().top+window.screen.height/2,$("html, body").animate({scrollTop:r},400,function(){s=0,h.parent().addClass("component-m-nav-fixed"),$(".component-m-nav-item[data-id="+n+"]").addClass("m-current")}))}if(!$.fn.swiper3&&$LAB){var o=GESHOP_STATIC;e=o+"/resources/javascripts/library/swiper/swiper.min.css",(t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t),$LAB.script(o+"/resources/javascripts/library/swiper/swiper.3.4.spec.min.js").wait(function(){l()})}else l();function l(){if(0==$("#nav-m-ul").data("isedit")){var t=[];$("img").each(function(){var e=$.Deferred();$(this).bind("load",function(){e.resolve()}).bind("error",function(){}),this.complete&&setTimeout(function(){e.resolve()},1e3),t.push(e)}),$.when.apply(null,t).done(function(){!function(){var d=new Swiper3("#js_topNav",{freeMode:!1,slidesPerView:"auto"});d.setWrapperTransition(100);var t=h.closest(".component-m-nav"),n=null,f=d.container[0].clientWidth,m=d.maxTranslate(),u=f/2-m;h.find("li").each(function(){$(this).outerWidth()}),$(window).width(),$(window).scroll(function(){var e=$(window).scrollTop()>h.closest(".geshop-component-box").offset().top;if(!0===i)return!1;0==s&&(e?t.addClass("component-m-nav-fixed"):t.removeClass("component-m-nav-fixed"));var p=$(window).scrollTop();clearTimeout(n),n=setTimeout(function(){var e=$(window).scrollTop();if(p==e)for(var t=h.find("li"),n=t.length,i=0;i<n;i+=1){var s=$(t.get(i)),a=s.data("id"),r=$(".geshop-component-box[data-id="+a+"]");if(e>parseInt(r.offset().top)-parseInt(h.height())){s.addClass("m-current"),s.siblings().removeClass("m-current");var o=s,l=o.position().left+o.outerWidth(!0)/2;if(d.setWrapperTransition(300),l<f/2)d.setWrapperTranslate(0);else if(u<l)d.setWrapperTranslate(m);else{var c=l-f/2;d.setWrapperTranslate(-c)}s.data("id")}else s.removeClass("m-current")}},50)}),h.off("click"),h.on("click","li",function(){var e=$(this),t=e.data("id");e.addClass("m-current").siblings().removeClass("m-current");var n=$(".geshop-component-box[data-id="+t+"]").offset().top-h.height();i=!0,$(window).scrollTop(n),function(e,t){var n=e,i=n.position().left,s=n.outerWidth(!0),a=i+s/2,r=t.container[0].clientWidth,o=t.maxTranslate(),l=r/2-o;if(t.setWrapperTransition(300),a<r/2)t.setWrapperTranslate(0);else if(l<a)t.setWrapperTranslate(o);else{var c=a-r/2;t.setWrapperTranslate(-c)}}(e,d),setTimeout(function(){i=!1},100)})}()})}}}();