"use strict";$(function(){var x=$("input[name=is-editenv]").val();function s(T){setTimeout(function(){var t="undefined"!=typeof GESHOP_LANG?GESHOP_LANG:"en",a=[];1==x?$(".geshop-U000191-default").each(function(){$(this).find("input[name=goods-sku]").val()?a.push($(this).find("input[name=goods-sku]").val().split(",")):a.push([])}):$(T).find("input[name=goods-sku]").val()?a.push($(T).find("input[name=goods-sku]").val().split(",")):a.push([]);var s={lang:t,platform:GESHOP_PLATFORM,skus:a},i=GESHOP_INTERFACE.goods_combogoods.url,o=$(T).attr("data-id");window.GEShopCommonFn_Vue.$jsonp(i,s,{pid:o}).done(function(t){if("0"==t.code)for(var a=0;a<t.data.length;a++){var s=1==x?$(".geshop-U000191-default").eq(a):$(T);if(i="<ul class='goods-list clearfix'>",0==t.data[a].goods_list.length){var i="<ul class='goods-list clearfix'>";i+="<li>",i+='<a class="goods-img">',i+='<img src="https://geshopimg.logsss.com/uploads/FRcjv8nNOT0BbSfV9ht3ZLemuo1K2AqQ.png" class="js_loadingimg js-attribute-img" data-original="https://geshopimg.logsss.com/uploads/FRcjv8nNOT0BbSfV9ht3ZLemuo1K2AqQ.png" alt="zaful" title="zaful" style="display: inline;">',i+="</a>",i+='\t<p class="mt20 price-wrap">',i+='<span class="my_shop_price price js-shop-price site-bold-strict" data-orgp="0.00" data-bz="0.00">$0.00</span>',i+="</p>",i+='<div class="mt20">',i+='<span class="attribute-wrap pr">',i+='<span class="attribute-text ml10 js-color-value js-attribute-value">COLOR</span>',i+='\t<span class="arrows js-color-btn js-attribute-btn" title="COLOR"></span>  ',i+='<div class="attribute-list js-attribute-list js-color-attribute" data-color="COLOR">',i+="</div>",i+="</span>",i+='<span class="attribute-wrap pr">',i+='\t<span class="attribute-text ml10 js-size-value js-attribute-value">L</span>',i+='<span class="arrows js-size-btn js-attribute-btn"></span>',i+='<div class="attribute-list js-attribute-list js-size-attribute"  data-size="L">',i+="\t</div>",i+="</span>",i+="</div>",i+="</li>",i+="<li>",i+='<a class="goods-img">',i+='<img src="https://geshopimg.logsss.com/uploads/FRcjv8nNOT0BbSfV9ht3ZLemuo1K2AqQ.png" class="js_loadingimg js-attribute-img" data-original="https://geshopimg.logsss.com/uploads/FRcjv8nNOT0BbSfV9ht3ZLemuo1K2AqQ.png" style="display: inline;">',i+="</a>",i+='\t<p class="mt20 price-wrap">',i+='<span class="my_shop_price price js-shop-price site-bold-strict" data-orgp="0.00" data-bz="0.00">$0.00</span>',i+="</p>",i+='<div class="mt20">',i+='<span class="attribute-wrap pr">',i+='<span class="attribute-text ml10 js-color-value js-attribute-value">COLOR</span>',i+='\t<span class="arrows js-color-btn js-attribute-btn" title="COLOR"></span>  ',i+='<div class="attribute-list js-attribute-list js-color-attribute" data-color="COLOR">',i+="</div>",i+="</span>",i+='<span class="attribute-wrap pr">',i+='\t<span class="attribute-text ml10 js-size-value js-attribute-value">L</span>',i+='<span class="arrows js-size-btn js-attribute-btn"></span>',i+='<div class="attribute-list js-attribute-list js-size-attribute"  data-size="L">',i+="\t</div>",i+="</span>",i+="</div>",i+="</li>",i+="</ul>",i+='<div class="cart-wrap">',i+='<p><span class="my_shop_price group-price fb js-group-price" data-orgp="0.00" data-bz="0.00">$0.00</span></p>',i+='<p><del class="my_shop_price total-price fb js-total-price" data-orgp="0.00" data-bz="0.00">$0.00</del></p>',i+='<div class="cart-btn-wrap js-add-cart btn__site-default">',i+='<i class="ico-cart"></i>',i+='<span class="cart-text fb"> GET THE SET</span> ',i+="</div>",$(".geshop-U000191-default").each(function(){$(this).find(".combo-wrap").html()||$(this).find(".combo-wrap").html(i)})}else{var o=0,e=s.find("input[name=goods-sku]").val().split(",");for(var r in t.data[a].goods_list){if(t.data[a].goods_list.hasOwnProperty(e[o])){for(var n,l=t.data[a].goods_list[e[o]],d="",p="",c={},u={},b={},g={},h={},f={},m={},v=0;v<t.data[a].goods_list[e[o]].length;v++){var j=t.data[a].goods_list[e[o]][v];d+=j.size+",",p+=j.color+",";var _=j.color.split(" ").join("_"),w=j.size.split(" ").join("_"),O=j.goods_id,y=[e[o]];u[c[_+"/"+w]=O]=l[v].goods_img,g[O]=l[v].shop_price,h[O]=l[v].url_title,f[O]=l[v].goods_sn,m[O]=l[v].active_num+"_"+l[v].is_on_sale,b.hasOwnProperty(_)?b.hasOwnProperty(_)&&(b[_]=b[_]+","+w):b[_]=w}var S=t.data[a].goods_list[e[o]];if(0<S.length)for(var z=0;z<S.length;z++)S[z].goods_sn==y&&(n=S[z]);i+="<li data-stockObj ="+JSON.stringify(m)+' data-goodsId = "'+O+'" data-isshow="'+n.is_show+'" data-activenum="'+n.active_num+'" data-onSale="'+n.is_on_sale+'" data-goods="'+y+'" data-attribute='+JSON.stringify(c)+" data-url="+JSON.stringify(h)+" data-price="+JSON.stringify(g)+" data-goodsImg="+JSON.stringify(u)+" data-sn="+JSON.stringify(f)+">";var C=$(s).find("input[name=lang-soldout]").val();i+='<div class="soldout"><span>'+C+"</span></div>",i+='<a href="'+n.url_title+'">',i+='<img src="https://geshopimg.logsss.com/uploads/FRcjv8nNOT0BbSfV9ht3ZLemuo1K2AqQ.png" data-original="'+n.goods_img+'" class="js_loadingimg js-attribute-img" style="display: inline;">',i+="</a>",i+='\t<p class="mt20 price-wrap">',i+='<span class="shop-price"><span class="my_shop_price price js-shop-price site-bold-strict" data-orgp="'+n.shop_price+'" data-bz="'+n.shop_price+'">'+n.shop_price+"</span></span>",i+="</p>",i+='<div class="mt20">',i+='<span class="attribute-wrap pr">',i+='<span class="attribute-text ml10 js-color-value js-attribute-value">'+n.color+"</span>",i+='\t<span class="arrows js-color-btn js-attribute-btn" title="'+n.color+'"></span>  ',i+='<div class="attribute-list js-attribute-list js-color-attribute" data-color="'+p+'">',i+="</div>",i+="</span>",i+='<span class="attribute-wrap pr">',i+='\t<span class="attribute-text ml10 js-size-value js-attribute-value">'+n.size+"</span>",i+='<span class="arrows js-size-btn js-attribute-btn"></span>',i+='<div class="attribute-list js-attribute-list js-size-attribute"  data-size="'+d+'">',i+="\t</div>",i+="</span>",i+="</div>",i+="</li>"}o++}i+="</ul>",i+='<div class="cart-wrap">',i+='<p><span class="my_shop_price group-price fb js-group-price" data-orgp="'+t.data[a].group_purchase_price+'" data-bz="'+t.data[a].group_purchase_price+'">'+t.data[a].group_purchase_price+"</span></p>",i+='<p><del class="my_shop_price total-price fb js-total-price" data-orgp="'+t.data[a].total_shop_price+'" data-bz="'+t.data[a].total_shop_price+'">'+t.data[a].total_shop_price+"</del></p>",i+='<div class="cart-btn-wrap js-add-cart btn__site-default">',i+='<i class="ico-cart"></i>',i+='<span class="cart-text fb"> GET THE SET</span> ',i+="</div>",$(s).find(".combo-wrap").html(i),0==x&&GLOBAL.currency.change_html();var E=$(s).find("input[name=btn-text]").val();$(s).find(".cart-text").text(E);var G=JSON.parse($(s).find("input[name=sku-img]").val()),L=$(s).find(".goods-list li");if(G)for(var k=0;k<L.length;k++)for(var A=$(L[k]).attr("data-goods"),N=0;N<G.length;N++)A===G[N].sku&&$(L[k]).find(".js-attribute-img").attr("data-original",G[N].img);0==x?$.fn.lazyload?$("img.js_loadingimg").lazyload():window.GS_GOODS_LAZY_FN(".js_loadingimg"):$("img.js_loadingimg").each(function(){$(this).attr("src",$(this).attr("data-original"))}),$(".geshop-U000191-default").each(function(){$(this).find(".goods-list li").each(function(){for(var t=$(this).find(".js-color-attribute").data("color").split(","),a=$(this).find(".js-size-attribute").data("size").split(","),s="",i="",o=0;o<P(t).length;o++)s+='<p data-color="'+P(t)[o]+'" data-type="color">'+P(t)[o]+" </p>";for(o=0;o<P(a).length;o++)i+='<p data-size="'+P(a)[o]+'" data-type="size">'+P(a)[o]+"</p>";$(this).find(".js-color-attribute").html(s),$(this).find(".js-size-attribute").html(i);var e=$(this).attr("data-onsale"),r=$(this).attr("data-activenum"),n=$(this).attr("data-isshow");0!=r&&0!=e&&0!=n||($(this).parents(".combo-wrap").find(".js-add-cart").addClass("unclickable"),$(this).find(".soldout").show())})})}}})},200)}function P(t){for(var a=[],s=0,i=t.length;s<i;s++){var o=t[s];-1===a.indexOf(o)&&o&&a.push(o)}return a}$("body").on("click",".js-color-btn",function(t){var a=$(this);1!=a.next().data("attr-num")&&(a.hasClass("on")?a.removeClass("on"):(a.addClass("on"),$(".js-color-attribute").hide(),a.closest(".attribute-wrap").find(".js-color-attribute").show())),t.preventDefault()}),$("body").on("click",".js-size-btn",function(t){var a=$(this);1!=a.next().data("attr-num")&&(a.hasClass("on")&&1!=a.next().data("attr-num")?(a.removeClass("on"),a.closest(".attribute-wrap").find(".js-size-attribute").hide()):(a.addClass("on"),$(".js-size-attribute").hide(),a.closest(".attribute-wrap").find(".js-size-attribute").show())),t.preventDefault()}),$("body").on("click",function(t){var a=window.event||t,s=a.target||a.srcElement;s&&!$(s).hasClass("js-color-btn")&&($(".js-color-attribute").hide(),$(".js-color-btn").removeClass("on")),s&&!$(s).hasClass("js-size-btn")&&($(".js-size-attribute").hide(),$(".js-size-btn").removeClass("on")),$(".js-attribute-list").each(function(t,a){"block"==$(a).css("display")&&$(a).closest("li").data("goods")!=$(s).closest("li").data("goods")&&$(s).hasClass("js-attribute-btn")&&($(a).hide(),$(a).closest(".attribute-wrap").find(".js-attribute-btn").removeClass("on"))})}),$("body").on("click",".js-attribute-list p",function(t){var a=$(this),s=a.text();a.data("type");a.closest(".attribute-wrap").find(".js-attribute-value").text(s),a.closest(".js-attribute-list").hide(),a.closest(".js-attribute-list").prev(".js-attribute-btn").removeClass("on").attr("title",s),function(t){t=$(t);var a,s=$.trim(t.find(".js-size-value").text()),i=$.trim(t.find(".js-color-value").text()),o=t.data("attribute"),e=t.data("goodsimg"),r=t.data("price"),n=t.data("url"),l=t.data("sn");1<$.trim(i).split(" ").length&&(i=i.split(" ").join("_"));1<$.trim(s).split(" ").length&&(s=s.split(" ").join("_"));s&&i&&(a=o[$.trim(i)+"/"+$.trim(s)]);t.find(".js-attribute-img").attr("src",e[a]),t.find(">a").attr("href",n[a]),t.find(".js-shop-price").text(r[a]),t.find(".js-shop-price").attr("data-orgp",r[a]),t.find(".js-shop-price").attr("data-bz",r[a]);var d=l[a];t.attr("data-goods",d);for(var p=t.closest(".goods-list").find("li"),c=[],u=0;u<p.length;u++){var b=p[u];c.push($(b).data("goods"))}0==x&&GLOBAL.currency.change_html();var g=t.data("stockobj"),h=t.data("isshow");if(g[a]){var f=g[a].split("_");0==f[0]||0==f[1]||0==h?(t.find(".soldout").show(),t.parents(".combo-wrap").find(".cart-btn-wrap").addClass("unclickable")):(t.find(".soldout").hide(),t.parents(".combo-wrap").find(".cart-btn-wrap").removeClass("unclickable"))}$(".geshop-U000191-default").each(function(){$(this).find(".goods-list li").each(function(){"block"==$(this).find(".soldout").css("display")&&$(this).parents(".combo-wrap").find(".cart-btn-wrap").addClass("unclickable")})}),function(t,a){var s={lang:"undefined"!=typeof GESHOP_LANG?GESHOP_LANG:"en",platform:GESHOP_PLATFORM,skus:t.join(",")},i=GESHOP_INTERFACE.goods_comboprice.url;window.GEShopCommonFn_Vue.$jsonp(i,s).done(function(t){"0"==t.code&&($(a).parents(".combo-wrap").find(".group-price").text(t.data),$(a).parents(".combo-wrap").find(".group-price").attr("data-orgp",t.data),$(a).parents(".combo-wrap").find(".group-price").attr("data-b",t.data),0==x&&GLOBAL.currency.change_html())})}(c,t)}(a.closest("li")),t.preventDefault()}),$("body").on("click",".checknow-link",function(t){window.location.href=DOMAIN_CART+GESHOP_LANG+"/m-flow-a-cart.htm"}),$("body").on("click",".ico-close",function(t){GEShopSiteCommon.dialog.unblock()}),$("body").on("click",".js-add-cart",function(t){if(!$(this).hasClass("unclickable")){for(var a=$(this).parents(".combo-wrap").find(".goods-list li"),s=[],i=[],o=0;o<a.length;o++){var e=a[o];s.push($(e).attr("data-goods")),i.push($(e).attr("data-goodsid"))}var r={lang:"undefined"!=typeof GESHOP_LANG?GESHOP_LANG:"en",platform:GESHOP_PLATFORM,skus:s.join(",")},n=GESHOP_INTERFACE.goods_comboaddcart.url;window.GEShopCommonFn_Vue.$jsonp(n,r).done(function(t){"0"==t.code&&("zf-pc"==GESHOP_SITECODE?GLOBAL.cart.showTopCartList():"rg-pc"==GESHOP_SITECODE&&(GLOBAL.MiniCart(function(){$("#js_miniCart").show()}),"undefined"!=typeof GEShopSiteCommon&&GEShopSiteCommon.dialog.content($(".layer-pop").html(),420,220)))})}}),1!=x?$LAB.script(GESHOP_STATIC+"/resources/javascripts/library/in-view.js").wait(function(){$(".geshop-U000191-default").each(function(t,a){inView(".geshop-U000191-default-"+$(a).data("id")).once("enter",function(t){s(t)})})}):s($(".geshop-U000191-default"))});