"use strict";$(function(){function e(t,e){this.$el=$(t),this.isEdit=void 0!==e&&e,this.init()}e.prototype={constructor:e,init:function(){this.$title=this.$el.find(".cd-title"),this.$content=this.$el.find(".cd-content"),this.beforeTitle=this.$el.data("beforeTitle"),this.startedTitle=this.$el.data("startedTitle"),this.endedTitle=this.$el.data("endedTitle"),this.dayTitle=this.$el.data("day-label"),this.daysTitle=this.$el.data("days-label"),this.startTime=parseInt(this.$el.data("startTime"))||0,this.endTime=parseInt(this.$el.data("endTime"))||0,this.start()},start:function(){this.tick()},stop:function(){clearTimeout(this.timer)},tick:function(){var t=this;t.update(),t.isEdit||(this.timer=setTimeout(function(){t.update()||t.tick()},1e3))},renderTitle:function(t){t!==this.title&&(this.$title.html(t),this.title=t)},getTimeObj:function(t){var e=t,i=Math.floor(e/1e3),s=Math.floor(i/60),a=Math.floor(s/60);if("seconds"===this.$el.find("input[name=time_show_type]").val())var l=Math.floor(a/24);else l=Math.ceil(a/24);return{d:l,h:a%24,m:s%60,s:i%60,ms:e%1e3,leftTime:t}},getCurrentData:function(){var t=(new Date).getTime();return this.startTime>t?{title:this.beforeTitle,leftTime:this.startTime-t}:this.startTime<=t&&t<=this.endTime?{title:this.startedTitle,leftTime:this.endTime-t}:{title:this.endedTitle,leftTime:0}},renderTime:function(t){var e=this.getTimeObj(t);if("seconds"===this.$el.find("input[name=time_show_type]").val()){var i='<span class="cd-value">'+(10<=e.d?e.d:"0"+e.d)+'</span><i class="cd-split">:</i>',s='<span class="cd-value">'+(10<=e.h?e.h:"0"+e.h)+'</span><i class="cd-split">:</i>',a='<span class="cd-value">'+(10<=e.m?e.m:"0"+e.m)+'</span><i class="cd-split">:</i>',l='<span class="cd-value">'+(10<=e.s?e.s:"0"+e.s)+"</span>";this.$content.html(i+s+a+l).addClass("is-second").removeClass("is-day")}else{var n=0,d=(i='<span class="cd-value">'+(n=864e5<=t?e.d:0<t?1:0)+'</span><i class="cd-split"></i>',1<n?this.daysTitle:this.dayTitle);this.$content.html(i+d).addClass("is-day").removeClass("is-second")}},update:function(){var t=this.getCurrentData();return this.renderTitle(t.title),this.renderTime(t.leftTime),0===t.leftTime}},$(".geshop-U000206-model1").each(function(){try{var t=$(this);new e(t.find(".cd-inner"),t.hasClass("is-edit"))}catch(t){}})});