"use strict";function AutoScroll(e){$(e).find(".ri-list:first").animate({marginTop:"-40px"},1500,function(){$(this).css({marginTop:"0px"}).find("p:first").appendTo(this)})}$(function(){$(".geshop-U000041-model4").each(function(e,h){var i=GESHOP_STATIC;loadCss(i+"/resources/javascripts/library/swiper/swiper.min.css"),$LAB.script(i+"/resources/javascripts/library/swiper/swiper.3.4.spec.min.js").script(i+"/resources/javascripts/library/gs_laytpl.js").wait(function(){gs_laytpl.config({open:"<%",close:"%>"});var e,t=$(h),s=0,n=0,i=t.find(".geshop-containr").data("fixed"),o=t.data("id"),a=window["navList_"+o],r=window["goodsSku_"+o],d=void 0;function p(e,n){document.body.clientWidth,e.container[0].clientWidth,e.maxTranslate();e.on("click",function(e,i){var s=e.slides[e.clickedIndex];void 0!==s&&($(s).addClass("active").siblings().removeClass("active"),"function"==typeof n&&n(e.clickedIndex,t))}),c(),e.setWrapperTranslate(0)}function c(){var e=0;t.find(".geshop-navswiper").find(".swiper-slide").each(function(){e+=$(this).outerWidth(!0)}),t.find(".secdBox .swiper-container.on").each(function(){var e=0;$(this).find(".swiper-slide").each(function(){e+=$(this).outerWidth(!0)}),e<1200?$(this).find(".swiper-wrapper").addClass("wrap-center"):$(this).find(".swiper-wrapper").removeClass("wrap-center")}),e<1200?t.find(".geshop-navswiper .swiper-wrapper").addClass("wrap-center"):t.find(".geshop-navswiper .swiper-wrapper").removeClass("wrap-center")}function l(e){p(new Swiper3(t.find(".geshop-secondswiper-"+e),{freeMode:!0,slidesPerView:"auto",slidesPerGroup:6,freeModeMomentumRatio:.5,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",touchMoveStopPropagation:!0,onClick:function(e){$(e.wrapper).parent().removeAttr("fixed")}}),f)}function f(e){void 0!==a&&a&&(n=t.find(".geshop-secondswiper-"+s+" .swiper-slide.active").index(),function(e,i){for(var s=void 0,n=0;n<r.length;n++)r[n].key==e+"-"+i&&2==r[n].skuFrom?s=r[n].ipsGoodsSKU:r[n].key==e+"-"+i&&1==r[n].skuFrom&&(s=r[n].inputSku);var o={lang:GESHOP_LANG||"en",goodsSn:s,filterStock:1},a=GESHOP_INTERFACE.goods_async_detail.url;window.GEShopCommonFn_Vue.$jsonp(a,o,{target:t}).done(function(e){try{t.find(".second-nav-list").empty(),function(e){var i=t.find(".cont-goodsList").html(),s=t.find(".second-nav-list");gs_laytpl(i).render(e,function(e){s.html(e),1!=window.GESHOP_PAGE_TYPE?GS_GOODS_LAZY_FN(t.find(".js-geshopImg-lazyload")):t.find(".js-geshopImg-lazyload").each(function(){$(this).attr("src",$(this).data("original"))}),window.GLOBAL&&window.GLOBAL.currency&&window.GLOBAL.currency.change_html(),window.FUN&&window.FUN.currency&&window.FUN.currency.change_html()})}(e.data.goodsInfo)}catch(e){}})}(s,n))}if(void 0!==a)if(null==a||0==a.length||""==a)t.find(".js-geshopImg-lazyload").each(function(){$(this).attr("src",$(this).data("original"))});else{e=a,t.find(".geshop-ad-wrap").find("ul").html(""),t.find(".geshop-navswiper .swiper-wrapper").html(""),t.find(".secdBox").html(""),e.forEach(function(e,a){var i="",s="";if(0==a&&(i="on",s="active"),e.banner)var n='<li class="'+i+'"><img src=" '+e.banner+' " alt="banner"></li>';t.find(".geshop-ad-wrap").find("ul").append($(n));var o='<div class="swiper-slide '+s+'"><span>'+e.navName+"</span></div>";t.find(".geshop-navswiper").find(".swiper-wrapper").append($(o));var r='<div class="swiper-container geshop-secondswiper geshop-secondswiper-'+a+" "+i+'"><div class="swiper-wrapper"></div><div class="outfit-prev swiper-button-prev j-tags-prev"><i class="icon-left"></i></div><div class="outfit-next swiper-button-next j-tags-next"><i class="icon-right"></i></div></div>';t.find(".secdBox").append($(r)),e.children.forEach(function(e,i){var s="",n="";n=e.sku_img?'<img class="nav-img" src="'+e.sku_img+'"/>':e.secondTabImg?'<img class="nav-img" src="'+e.secondTabImg+'"/>':'<img class="nav-img" src="https://geshopimg.logsss.com/uploads/4NTvJ3E9HbDxGShyOcrkQ7u1dqlaZw5i.png "/>',0==i&&(s="active");var o='<div class="swiper-slide '+s+'" style="background-color: '+e.tabBgcolor+'">'+n+"<span>"+e.navName+'</span><i class="btr" style="background-color: '+e.tabBgcolor+'"></i></div>';t.find(".geshop-secondswiper-"+a).find(".swiper-wrapper").append($(o))}),c()});t.find(".geshop-navswiper").find(".swiper-slide").last(),t.find(".geshop-secondswiper.on").find(".swiper-slide").last();c()}function w(){new Swiper3(t.find(".geshop-secondswiper.on"),{freeMode:!0,slidesPerView:"auto",slidesPerGroup:6,freeModeMomentumRatio:.5,prevButton:".swiper-button-prev",nextButton:".swiper-button-next",touchMoveStopPropagation:!0}).setWrapperTranslate(0)}p(d=new Swiper3(t.find(".geshop-navswiper"),{freeMode:!0,freeModeMomentumRatio:.5,slidesPerView:"auto",prevButton:".swiper-button-prev",nextButton:".swiper-button-next",touchMoveStopPropagation:!0,onlyExternal:!0}),function(e){t.find(".geshop-ad-wrap ul li").eq(e).addClass("on").siblings().removeClass("on"),t.find(".geshop-ad-wrap ul li").hide(),t.find(".geshop-ad-wrap ul li").eq(e).show()}),f(),d.on("tap",function(e){var i=e.clickedIndex;s=i,t.find(".geshop-secondswiper").eq(i).addClass("on").siblings().removeClass("on"),t.find(".geshop-secondswiper").eq(i).find(".swiper-slide").eq(0).addClass("active").siblings().removeClass("active"),l(i),void 0!==i&&(n=0,f())}),l(0),$(window).scroll(function(){if(1==i){var s=t.find(".secdBox").offset().top;t.find(".secdBox").height();setTimeout(function(){var e=$(this).scrollTop();if(s<=e&&e<s+t.find(".geshop-containr").height()){t.find(".geshop-secondswiper.on").addClass("fixed"),t.find(".geshop-secondswiper.on").attr("fixed",1),$(".js-geshop-nav").length&&$(".js-geshop-nav").hide(),$('div[data-key="U000027"]').length&&$('div[data-key="U000027"]').find("ul").hide(),t.addClass("js-geshop-nav-fixed");var i=0;t.find(".geshop-secondswiper.on .swiper-wrapper").find(".swiper-slide").each(function(){i+=$(this).outerWidth()}),i<document.body.clientWidth?t.find(".geshop-secondswiper.on .swiper-wrapper").addClass("wrap-center"):t.find(".geshop-secondswiper.on .swiper-wrapper").removeClass("wrap-center"),w()}else t.find(".geshop-secondswiper.on").removeClass("fixed"),$(".js-geshop-nav").length&&$(".js-geshop-nav").show(),$('div[data-key="U000027"]').length&&$('div[data-key="U000027"]').find("ul").show(),t.removeClass("js-geshop-nav-fixed"),GEShopSiteCommon&&GEShopSiteCommon.jsNavFixed(),c();t.find(".geshop-secondswiper.on").hasClass("fixed")||1!=t.find(".geshop-secondswiper.on").attr("fixed")||w()},10)}})})}),$(document).on("click",".quick_view",function(e){e.stopPropagation();var i=GESHOP_SITECODE.split("-")[0],s=$(this).attr("data-goodsId"),n=$(this).attr("data-siteDomain"),o="";switch(i){case"rw":o=n+"/m-goods_fast-a-info.htm?goods_id="+(s=s.slice(0,7));break;case"zf":o=n+"/m-goods_fast-a-info.htm?goods_id="+(s=s.slice(0,6));break;case"rg":o=n+"/m-goods-a-fast-id-"+(s=s.slice(0,7))+".html"}return o&&GEShopSiteCommon.dialog.iframe(o,1080,597,!0),!1});var e=void 0;$(document).on("mouseover",".shop-fast",function(){if(1<$(this).find(".rice-info p").length){e=setInterval(AutoScroll(this),2e3)}}).on("mouseleave",".shop-fast",function(){clearInterval(e)})});