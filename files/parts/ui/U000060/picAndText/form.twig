{% set fontFamily = [
	{name:'OpenSans-Semibold (zaful)',value:'OpenSans-Semibold'},
  {name:'OpenSans-Bold (zaful)',value:'OpenSans-Bold'},
  {name:'OpenSans-Regular (zaful)',value:'OpenSans-Regular'},
  {name:'Trebuchet MS (RG)',value:'Trebuchet MS'},
  {name:'Tahoma (RW)',value:'Tahoma'},
  {name:'Arial (RW)',value:'Arial'},
  {name:'Helvetica (RW)',value:'Helvetica'},
  {name:'sans-serif (RW)',value:'sans-serif'},
  {name:'AvenirLTStd_Book (RW)',value:'AvenirLTStd_Book'},
  {name:'Georgia (RW)',value:'Georgia'},
  {name:'Times New Roman (RW)',value:'Times New Roman'},
  {name:'Verdana (RW)',value:'Verdana'},
  {name: 'Rubik-Medium(rg)', value: 'Rubik-Medium'}
]%}

{% set siteData = {
  font_weight: 'rg' in siteCode ? 'normal' : 'bold',
  fontFamily: 'rg' in siteCode ? 'Rubik-Medium' : data.fontFamily
} %}

<h3 class='component-form-title'>标题组件配置
  <a href="javascript:;" class="design-form-close js_closeDesignForm icon-close">
    <i class="el-icon-close"></i>
  </a>
</h3>

{{include ('@app/htdocs/resources/template/pc/templateList/index.twig')}}

<div class="component-form-setting-item component-form-configure-item">
  <h4 class="title">常用配置</h4>
  <div class="layui-field-box">
    <div class="layui-form-item">
      <label class="form-item-label">标题栏高度(px)</label>
      <div class="layui-input-block">
        <input type="text" name="boxHeight" autocomplete="off" class="layui-input" value="{{ data.boxHeight|default(100) }}">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">下间距(px)</label>
      <div class="layui-input-block">
        <input type="text" name="boxMarginBottom" autocomplete="off" class="layui-input" value="{{ data.boxMarginBottom|default(10) }}">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">标题栏背景颜色</label>
      <div class="layui-input-block">
        <div class="color-picker-selector" data-hidden-name="bgColor"><div style="background-color: {{ data.bgColor }};"></div></div>
        <input type="text" class="layui-input" name="bgColor" autocomplete="off" value="{{ data.bgColor }}">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">标题文案</label>
      <div class="layui-input-block">
        <input type="text" name="titleText" autocomplete="off" class="layui-input" value="{{ data.titleText }}" data-public-tag="true">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">标题文案导航命名</label>
      <div class="layui-input-block">
        <input type="text" name="titleNavText" autocomplete="off" class="layui-input" value="{{ data.titleNavText }}" data-public-tag="true">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">标题文字颜色</label>
      <div class="layui-input-block">
        <div class="color-picker-selector" data-hidden-name="titleColor"><div style="background-color: {{ data.titleColor|default('#333333') }};"></div></div>
        <input type="text" class="layui-input" name="titleColor" autocomplete="off" value="{{ data.titleColor|default('#333333') }}">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">标题文字字体</label>
      <div class="layui-input-block">
        <select name="fontFamily" lay-verify="required" value="{{ data.fontFamily|default(siteData.fontFamily) }}">
        {% for item in fontFamily %}
          <option value="{{ item.value }}" {% if item.value == data.fontFamily|default(siteData.fontFamily) %}selected{% endif %}>{{ item.name }}</option>
        {% endfor %}
        </select>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">左侧装饰图<span class="geshop-prompt">(建议宽度小于400px,高度低于标题栏高度)</span></label>
      <div class="layui-input-block">
        <a href="javascript:;" class="js_openResource design-open-resource"><i class="layui-icon">&#xe64a;</i></a>
        <input type="text" name="imgSrcLeft" autocomplete="off" class="layui-input" value="{{ data.imgSrcLeft }}">
      </div>
    </div>
    <div class="layui-form-item">
      <label class="form-item-label">右侧装饰图<span class="geshop-prompt">(建议宽度小于400px,高度低于标题栏高度)</span></label>
      <div class="layui-input-block">
        <a href="javascript:;" class="js_openResource design-open-resource"><i class="layui-icon">&#xe64a;</i></a>
        <input type="text" name="imgSrcRight" autocomplete="off" class="layui-input" value="{{ data.imgSrcRight }}">
      </div>
    </div>
  </div>
  <div class="clearfix">
    <a href="javascript:;" id="js_moreConfig" style="color:#1E9FFF">高级配置</a>
  </div>
</div>

<div class="component-form-setting-item component-form-advanced-item">
  <h4 class="title"><i class="layui-icon back" id="js_advanced_baseConfig">&#xe603;</i>高级配置</h4>
  <div class="layui-collapse advanced-setting-container">
    <div class="layui-colla-item">
      <h2 class="layui-colla-title">基础配置</h2>
      <div class="layui-colla-content layui-show">
        <div class="layui-form-item">
          <label class="form-item-label">标题文字左右边距(px)</label>
          <div class="layui-input-block">
            <input type="text" name="textMargin" autocomplete="off" class="layui-input" value="{{ data.textMargin|default(20) }}">
          </div>
        </div>       
        <div class="layui-form-item">
          <label class="form-item-label">标题文字大小(px)</label>
          <div class="layui-input-block">
            <input type="text" name="titleFont" autocomplete="off" class="layui-input" value="{{ data.titleFont|default(24) }}">
          </div>
        </div>
        <div class="layui-form-item">
          <label class="form-item-label">标题文字粗细</label>
          <div class="layui-input-block">
            <input type="radio" name="titleWeight" value="normal" title="正常"{% if data.titleWeight|default('normal') == 'normal' %} checked{% endif %}>
            <input type="radio" name="titleWeight" value="bold" title="加粗"{% if data.titleWeight|default('normal') != 'normal' %} checked{% endif %}>
          </div>
        </div>
        <div class="layui-form-item">
          <label class="form-item-label">跳转链接</label>
          <div class="layui-input-block">
            <input type="text" name="viewHref" autocomplete="off" class="layui-input" value="{{ data.viewHref }}" data-public-tag="true">
          </div>
        </div>
      </div>
		</div>
  </div>
</div>

<div class="layui-form-item geshop-form-operation">
  <button type="button" class="layui-btn layui-btn-primary js_closeDesignForm">取消</button>
  <button type="button" class="layui-btn layui-btn-normal js_submitDesignForm">提交</button>
</div>

<script>
  $('.js_submitDesignForm').click(function(){
    var titleNav = $("input[name='titleNavText']").val();
    var title = $("input[name='titleText']").val();
    if (titleNav) {
      if(titleNav.length > 100) {
        layer.msg('导航文案不能超过100个字符');
        return false;
      }
    }else {
      if(title.length > 100) {
        layer.msg('导航文案不能超过100个字符');
        return false;
      }
    }
  });
</script>

