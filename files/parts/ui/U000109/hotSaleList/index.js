"use strict";$(function(){var i=$('[data-gid="U000109_hotSaleList"] .gs-tab-box');i.each(function(){var i,a,t=$(this),n=t.find(".goods-nav-name").outerWidth();t.find(".goods-nav-name > li").eq(0).addClass("current"),900<=n?(i=t,a=$("[data-static-domain]:eq(0)").attr("data-static-domain")?$("[data-static-domain]:eq(0)").attr("data-static-domain"):"",loadCss(a+"/resources/javascripts/library/swiper/swiper.min.css"),$LAB.script(a+"/resources/javascripts/library/swiper/swiper.3.4.spec.min.js").wait(function(){new Swiper3(i.find(".swiper-container"),{autoplay:!1,loop:!0,slidesPerView:"auto",observer:!0,observeParents:!0,nextButton:i.find(".next-btn"),prevButton:i.find(".pre-btn")})}),t.find(".icon-img-left").show(),t.find(".icon-img-right").show()):(t.find(".icon-img-left").hide(),t.find(".icon-img-right").hide())}),i.on("click","li",function(){var i=$(this).parents(".gs-tab-wrap:eq(0)").next(".gs-tab-content");$(this).addClass("current").siblings().removeClass("current"),$.fn.lazyload?i.find(".gs-tab-item img.js-geshopImg-lazyload").lazyload({threshold:100,failure_limit:20,skip_invisible:!1}):window.GS_GOODS_LAZY_FN(".js-geshopImg-lazyload")})}),function(){var i=$("[data-static-domain]:eq(0)").attr("data-static-domain")?$("[data-static-domain]:eq(0)").attr("data-static-domain"):"";loadCss(i+"/resources/javascripts/library/swiper/swiper.min.css"),$LAB.script(i+"/resources/javascripts/library/swiper/swiper.3.4.spec.min.js");var a=function(){gs_laytpl.config({open:"<%",close:"%>"}),$('.geshop-leaderboard-async-list[data-gid="U000109_hotSaleList"]').each(function(i,a){var t=$(a),n=parseInt(t.find(".swiper-slide").attr("data-asyncdata-id")),s=t.find(".pagesize").val(),o=t.find(".pc-leader-board-template").html(),d=t.find(".leader-board-container"),r="undefined"!=typeof GESHOP_LANG?GESHOP_LANG:"en",e={type:2,cateid:t.find(".swiper-slide").eq(0).attr("data-asyncdata-id"),lang:r,pageno:1,pagesize:s,pipeline:"undefined"!=typeof GESHOP_PIPELINE?GESHOP_PIPELINE:""},c=GESHOP_INTERFACE.getrankdetail.url,l={content:JSON.stringify(e)};if(n)$.ajax({url:c,type:"get",dataType:"jsonp",data:l,success:function(i){var a=i.data;gs_laytpl(o).render(a,function(i){d.html(i),window.GLOBAL&&window.GLOBAL.currency&&window.GLOBAL.currency.change_html(),window.FUN&&window.FUN.currency&&window.FUN.currency.change_html()})}});else{gs_laytpl(o).render({goodsInfo:[]},function(i){d.html(i),window.GLOBAL&&window.GLOBAL.currency&&window.GLOBAL.currency.change_html(),window.FUN&&window.FUN.currency&&window.FUN.currency.change_html()})}t.find(".swiper-slide").click(function(i){var a=$(this).attr("data-asyncdata-id"),t={type:2,cateid:a,lang:r,pageno:1,pagesize:s,pipeline:"undefined"!=typeof GESHOP_PIPELINE?GESHOP_PIPELINE:""},n=GESHOP_INTERFACE.getrankdetail.url,e={content:JSON.stringify(t)};a&&$.ajax({url:n,type:"get",dataType:"jsonp",data:e,success:function(i){var a=i.data;gs_laytpl(o).render(a,function(i){d.html(i),window.GLOBAL&&window.GLOBAL.currency&&window.GLOBAL.currency.change_html(),window.FUN&&window.FUN.currency&&window.FUN.currency.change_html()})}})})})};$LAB.script(i+"/resources/javascripts/library/gs_laytpl.js?2018100601").wait(function(){a(),function(){var a=$(".js_gs_tab_wrap_fixed");function t(i,n){i.each(function(){var i=$(this),a=$(this).find(".gs-tab").offset(),t=i.find(".gs-tab-wrap-fixbox-Pic").outerWidth();$(this).closest(".geshop-component-box").data("id");a.top<=n&&n<a.top+i.find(".geshop-content").outerHeight()?(i.find(".gs-tab-wrap-fixbox").css({position:"fixed",top:0,left:a.left+"px",width:t+"px","z-index":9999}),i.addClass("js-geshop-nav-fixed"),$(".js-geshop-nav").length&&$(".js-geshop-nav").hide(),$('div[data-key="U000027"]').length&&$('div[data-key="U000027"]').find("ul").hide()):(i.find(".gs-tab-wrap-fixbox").css({position:"static"}),i.removeClass("js-geshop-nav-fixed"),$(".js-geshop-nav").length&&$(".js-geshop-nav").show(),$('div[data-key="U000027"]').length&&$('div[data-key="U000027"]').find("ul").show())}),GEShopSiteCommon&&GEShopSiteCommon.jsNavFixed()}$.each(a,function(i,a){var t,n;1!=(t=$(a)).data("isaddfixbox")&&(t.data("isaddfixbox",1),t.find(".gs-tab-wrap").wrap('<div class="gs-tab-wrap-fixbox"></div>'),(n=t.find(".gs-tab-wrap-fixbox")).wrap('<div class="gs-tab-wrap-fixbox-Pic"></div>'),t.find(".gs-tab-wrap-fixbox-Pic"),n.on("click",".swiper-slide",function(){var i=$(this).closest(".gs-tab-wrap-fixbox-Pic").offset().top;$("html,body").animate({scrollTop:i},500)}))}),$(window).on("resize",function(i){t(a,$(window).scrollTop())}),$(window).on("scroll",function(){var i=$(this).scrollTop();t(a,i)})}()})}();